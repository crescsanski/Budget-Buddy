<div class="panel" style="width: 100%">
    <div class="content-area">
        <div class="header" style="width: 100%; justify-content: space-between">
            <h2>Actual vs. Estimated Income</h2> 

            <div>
                <div style="display: inline-flex; width: fit-content; justify-content: space-between; text-align: right;"> 
                    <div style="width: fit-content; text-align: left;">
                        <label>Month</label>
                        <p-calendar id="month" inputId="month" 
                        class="inputfield" [(ngModel)]="selDate" view="month" [showOtherMonths]="false" [minDate]="ts.minDate" [maxDate]="ts.maxDate" (onSelect)="getNewData()" dateFormat="mm/yy"></p-calendar>
                    </div>
                    
               
                    <div style="width: fit-content; text-align: left; display:block">
                        <label for="cat" >Categories</label><br>
                        <p-multiSelect [options]="catOptions" class="inputfield" [(ngModel)]="selectedCats"
                        [maxSelectedLabels]="0" [selectedItemsLabel]="'{0} items selected'" 
                        (onChange)="getNewData()" 
                        inputId="cat"
                        optionLabel="categoryTitle"></p-multiSelect>
                    </div>
            </div>
            </div>
        </div>

        <div style="position: relative;">
            <div *ngIf="!dataExists" class="centerUn">
                <span>There is no data to display because there are neither logged incomes nor estimated budget incomes for the selected month.</span>
            </div>
            <div *ngIf="selectedCats.length == 0" class="centerUn">
                <span>Please select at least one category.</span>
            </div>
            <p-chart [ngStyle]="{'visibility': selectedCats.length > 0 && dataExists ? 'visible' : 'hidden'}" #chart3 type="bar" [data]="chartData" [options]="chartOptions"></p-chart>
          
        </div>
    </div>
</div>